!function(e){"use strict";e.each([".wphelpkit-category",".wphelpkit-subcategory",".wphelpkit-article"],function(){if(".wphelpkit-category"===this&&!e(this).parents(".wphelpkit-archive").length||".wphelpkit-article"===this&&e(this).parents(".wphelpkit-tag").length||".wphelpkit-article"===this&&e(this).parents(".wphelpkit-related-articles").length)return!0;e(this).on("hover",function(t){1!==t.buttons&&(e(".wphelpkit-draggable").removeClass("wphelpkit-draggable"),e(this).addClass("wphelpkit-draggable"))}),e(this).on("mouseleave",function(){1!==event.buttons&&(e(this).removeClass("wphelpkit-draggable"),!e(this).hasClass("wphelpkit-category")&&e(this).parents(".wphelpkit-archive").length&&e(this).parents(".wphelpkit-category").addClass("wphelpkit-draggable"))})});var t=function(t,i){t?e(i).parents("body").addClass("wphelpkit-busy"):e(i).parents("body").removeClass("wphelpkit-busy")},i=function(t,i){i?e(t).hasClass("wphelpkit-category")?(e(t).css("overflow-y","hidden"),e(".wphelpkit-category").css("opacity","0.5"),e(t).css("opacity","1")):e(t).hasClass("wphelpkit-article")?(e(".wphelpkit-category").css("opacity","0.5"),e(t).parents(".wphelpkit-category").find(".wphelpkit-subcategories, .see-all").css("opacity","0.5"),e(t).parents(".wphelpkit-category").css("opacity","1")):e(t).hasClass("wphelpkit-subcategory")&&(e(".wphelpkit-category").css("opacity","0.5"),e(t).parents(".wphelpkit-category").css("opacity","1"),e(t).parents(".wphelpkit-category").find(".wphelpkit-articles .wphelpkit-article").css("opacity","0.5")):e(t).hasClass("wphelpkit-category")?(e(t).css("overflow-y","initial"),e(".wphelpkit-category").css("opacity","1")):e(t).hasClass("wphelpkit-article")?(e(".wphelpkit-category").css("opacity","1"),e(t).parents(".wphelpkit-category").find(".wphelpkit-subcategories, .see-all").css("opacity","1")):e(t).hasClass("wphelpkit-subcategory")&&(e(".wphelpkit-category").css("opacity","1"),e(t).parents(".wphelpkit-category").find(".wphelpkit-articles .wphelpkit-article").css("opacity","1"))};function a(){e(".wphelpkit-order-notice").length||(e("body").append('<div class="wphelpkit-order-notice"><div class="wphelpkit-order-notice-container">'+wphelpkit_order.notice+"</div></div>"),e(".wphelpkit-order-notice").animate({bottom:"50"},300,function(){}),setTimeout(function(){e(".wphelpkit-order-notice").animate({opacity:0},500,function(){})},2500),setTimeout(function(){e(".wphelpkit-order-notice").remove()},3e3))}e(".wphelpkit-archive").sortable({items:".wphelpkit-category",placeholder:"wphelpkit-sortable-placeholder",forcePlaceholderSize:!0,tolerance:"pointer",start:function(e,t){i(t.item,!0)},stop:function(e,t){i(t.item,!1),a()},update:function(a,p){i(p.item,!1),t(!0,p.item);var o={action:wphelpkit_order.category_action,nonce:wphelpkit_order.category_nonce,data:{order:e(this).sortable("serialize")}};e.post(wphelpkit_order.ajaxurl,o).always(function(){t(!1,p.item)})}}),e(".wphelpkit-subcategories").sortable({items:".wphelpkit-subcategory",placeholder:"wphelpkit-sortable-placeholder",forcePlaceholderSize:!0,axis:"y",containment:"parent",tolerance:"pointer",start:function(t,a){e(this).sortable("instance").containment[1]-=5,i(a.item,!0)},stop:function(e,t){i(t.item,!1),a()},update:function(a,p){i(p.item,!1),t(!0,p.item);var o={action:wphelpkit_order.category_action,nonce:wphelpkit_order.category_nonce,data:{order:e(this).sortable("serialize")}};e.post(wphelpkit_order.ajaxurl,o).always(function(){t(!1,p.item)})}}),e(".wphelpkit-category").sortable({items:".wphelpkit-article",placeholder:"wphelpkit-sortable-placeholder",forcePlaceholderSize:!0,axis:"y",containment:"parent",tolerance:"pointer",start:function(t,a){e(this).sortable("instance").containment[1]-=5,i(a.item,!0)},stop:function(e,t){i(t.item,!1),a()},update:function(a,p){i(p.item,!1),t(!0,p.item);var o={action:wphelpkit_order.article_action,nonce:wphelpkit_order.article_nonce,data:{order:e(this).sortable("serialize"),category:e(p.item).parents(".wphelpkit-category").attr("id").replace("tag-","")}};e.post(wphelpkit_order.ajaxurl,o).always(function(){t(!1,p.item)})}})}(jQuery);